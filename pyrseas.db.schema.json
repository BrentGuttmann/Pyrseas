{
	"title": "JSON schema for Pyrseas yaml files",
	"$schema": "http://json-schema.org/draft-07/schema#",

	"type": "object",
    "additionalProperties": false,
    "patternProperties": {
        "^schema ": {
           "$ref": "pyrseas.schema.schema.json#/definitions/schema"
        },
        "^cast ": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "context": { "type": "string"   },
                "method": {"type": "string"},
                "description": {"type":"string"},
                "function": {"type":"string"},
                "depends_on": {
                    "type": "array",
                    "items": {"type": "string"}
                }
            }
        },
        "^extension ": {
           "type":"object",
           "additionalProperties": false,
           "properties": {
                "description": { "type":"string"},
                "owner": { "type":"string"},
                "schema": { "type":"string"},
                "version": { "type":"string"}
           }
        },
        "^event trigger ": {
            "type":"object",
            "additionalProperties": false,
            "properties": {
                "description": {"type": "string"},
                "enabled": {"type": "boolean"},
                "event": {"type": "string"},
                "procedure": {"type": "string"},
                "tags": {"type": "array", "items": {"type": "string"}},
                "owner": {"type": "string"}
            }
        },
        "^foreign data wrapper ": {
            "type":"object",
            "additionalProperties": false,
            "properties": {
                "description": {"type": "string"},
                "validator": {"type": "string"},
                "options": {"type": "array", "items": {"type": "string"}},
                "handler": {"type": "string"},
                "owner": {"type": "string"},                
                "privileges": {                           
                    "$ref": "pyrseas.schema.schema.json#/definitions/privileges"
                }
            }
        },
        "^language ": {
            "type":"object",
            "additionalProperties": false,
            "properties": {
                "description": {"type": "string"},
                "trusted": {"type": "boolean"},
                "owner": {"type": "string"},                
                "privileges": {                           
                    "$ref": "pyrseas.schema.schema.json#/definitions/privileges"
                }
            }
        }
   }
    
}